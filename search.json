[{"title":"æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾","url":"/2025/03/10/æ¥å…¥ç½‘è¯¾è®¾/","content":"\n#  æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾\n\n## é˜¶æ®µä¸€\n\n1. å®Œæˆè™šæ‹Ÿæœºé€‰å‹ï¼Œå¹¶é…ç½®è‡³å°‘ä¸¤ä¸ªç½‘æ®µï¼Œ åˆ†åˆ«æµ‹è¯•å­ç½‘å†…å’Œå­ç½‘é—´è¿é€šæ€§ï¼› \n\n2. è®¾è®¡PPPOEæœ¬åœ°è®¤è¯æ‹“æ‰‘å›¾åŠIPåœ°å€è§„åˆ’ (å®¢æˆ·è‡³å°‘ä¸¤ä¸ªç½‘æ®µ)  ï¼›\n\n3. é€‰å‹PPPOEæœåŠ¡å™¨è½¯ä»¶ï¼Œå¹¶åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹ å®ŒæˆPPPoEæ¥å…¥æœ¬åœ°è®¤è¯çš„æ­å»ºã€é…ç½®ã€ å®éªŒæµ‹è¯•ã€‚\n\n### ä»»åŠ¡ä¸€\n\n#### å­ç½‘è§„åˆ’\n\nè™šæ‹Ÿæœºé€‰å‹ï¼šubuntu20.04\n\né…ç½®ç½‘æ®µï¼š\n\n- Vmnet1:192.168.10.0/24\n- Vmnet2:192.168.20.0/24 \n- Vmnet3:192.168.30.0/24\n\n![å­ç½‘è§„åˆ’](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/1.png)\n\n#### é…ç½®æµç¨‹\n\n1. åœ¨ubuntuç¼–è¾‘-è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ä¸­é€‰æ‹©æ›´æ”¹è®¾ç½®ï¼Œèµ‹äºˆç®¡ç†å‘˜æƒé™åé€‰æ‹©æ·»åŠ ç½‘ç»œï¼Œç±»å‹ä¸º**ä»…ä¸»æœºæ¨¡å¼**ï¼Œä¿®æ”¹å­ç½‘IPå’Œå­ç½‘æ©ç ã€‚\n\n![è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/2.png)\n\n2. åœ¨ubuntuè™šæ‹Ÿæœºè®¾ç½®ä¸­æ·»åŠ ç½‘å¡ï¼Œä¸‰å¼ ä¸ºå­ç½‘è§„åˆ’ä¸­å®šä¹‰æ‰€å¯¹åº”çš„ç½‘å¡ã€‚\n\n![è™šæ‹Ÿæœºè®¾ç½®](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/3.png)\n\n![ç¡¬ä»¶è®¾ç½®](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/4.png)\n\nå¯¹åº”ç½‘ç»œé€‚é…å™¨é€‰æ‹©è‡ªå®šä¹‰-ç‰¹å®šè™šæ‹Ÿç½‘ç»œ-é€‰æ‹©å¯¹åº”ç½‘å¡-ç¡®å®šã€‚\n\n![è™šæ‹Ÿæœºè®¾ç½®](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/5.png)\n\n3. åœ¨ubuntuä¸­è¾“å…¥\n\n```shell\nifconfig\n```\n\nå‡ºç°å¯¹åº”ç½‘å¡ä¿¡æ¯ã€‚\n\n![ç½‘å¡ä¿¡æ¯](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/6.png)\n\n4. é…ç½®é™æ€IPã€‚å‚è€ƒåšå®¢ï¼š[Ubuntué…ç½®é™æ€IP](https://blog.csdn.net/weixin_58305495/article/details/130554393)ï¼Œæ³¨æ„ä¸ç½‘å¡åç§°åŒ¹é…ã€‚\n\n**Ubuntu 16.04 åŠæ›´æ—©ç‰ˆæœ¬**ï¼šç½‘ç»œç®¡ç†å·¥å…·ä½¿ç”¨ `ifupdown`ï¼Œç½‘ç»œé…ç½®æ–‡ä»¶åœ¨ `/etc/network/interfaces`\n\n```shell\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet dhcp\n\nauto eth1\niface eth1 inet static\naddress 192.168.10.10\nnetmask 255.255.255.0\ngateway 192.168.10.1\ndns-nameservers 8.8.8.8 8.8.4.4\n\nauto eth2\niface eth2 inet static\naddress 192.168.20.10\nnetmask 255.255.255.0\ngateway 192.168.20.1\n\nauto eth3\niface eth3 inet static\naddress 192.168.30.10\nnetmask 255.255.255.0\ngateway 192.168.30.1\n\n```\n\n**Ubuntu 17.10 åŠæ›´é«˜ç‰ˆæœ¬**ï¼šç½‘ç»œç®¡ç†å·¥å…·ä½¿ç”¨ `Netplan`ï¼Œé…ç½®æ–‡ä»¶ä½äº `/etc/netplan/00-installer-config.yaml`\n\n```yaml\n# Let NetworkManager manage all devices on this system\nnetwork:\n  version: 2\n  renderer: NetworkManager\n  ethernets:\n    ens33:            \n      dhcp4: true                          \n      nameservers:\n        addresses: [8.8.8.8, 8.8.4.4]       \n\n    ens37:\n      addresses: [192.168.10.10/24]        \n      routes:\n        - to: default\n          via: 192.168.10.1                \n      dhcp4: false                          \n      nameservers:\n        addresses: [8.8.8.8, 8.8.4.4]      \n\n    ens38:\n      addresses: [192.168.20.10/24]         \n      routes:\n        - to: default\n          via: 192.168.20.1                \n      dhcp4: false                          \n      nameservers:\n        addresses: [8.8.8.8, 8.8.4.4]   \n\n    ens39:\n      addresses: [192.168.30.10/24]        \n      routes:\n        - to: default\n          via: 192.168.30.1              \n      dhcp4: false                     \n      nameservers:\n        addresses: [8.8.8.8, 8.8.4.4]   \n```\n\né…ç½®å®Œæˆåæ‰§è¡Œå‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆã€‚\n\n```shell\nsudo netplan apply\n```\n\næ‰§è¡Œ`ifconfig`å‘½ä»¤æŸ¥çœ‹å½“å‰IPåœ°å€ã€‚\n\n\n\n####  æµ‹è¯•\n\n**å­ç½‘é—´è¿é€šæ€§**\n\n![Linuxå­ç½‘é—´è¿é€šæ€§](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/7.png)\n\nClient1(192.168.10.20)\n\n![Client1å­ç½‘é—´è¿é€šæ€§](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/8.png)\n\nClient2(192.168.20.20)\n\n<img src=\"/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/9.png\" alt=\"image-20250308132954522\" style=\"zoom: 80%;\" />\n\n**å­ç½‘å†…è¿é€šæ€§**\n\nClient1(192.168.10.20)\n\n![Client1å­ç½‘å†…è¿é€šæ€§](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/10.png)\n\nClient2(192.168.20.20)\n\n<img src=\"/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/11.png\" alt=\"image-20250308133215681\" style=\"zoom:80%;\" />\n\n### ä»»åŠ¡ä¸‰\n\n#### PPPoEæœåŠ¡å™¨ç«¯\n\n[å‚è€ƒåšå®¢:åŸºäºLinuxç¯å¢ƒçš„PPPOEæœåŠ¡å™¨æ­å»º](https://zhuanlan.zhihu.com/p/41499761)\n\n1. å®‰è£…PPPoEæœåŠ¡å™¨ç¨‹åº\n\n```shell\nsudo apt-get install pppoe\n```\n\nä½¿ç”¨`pppoe-server -h`æŸ¥çœ‹pppoeå®‰è£…æƒ…å†µåŠç‰ˆæœ¬,è¯¥PPPoE-Serverç‰ˆæœ¬ä¸º3.12ã€‚\n\n![PPPoEæœåŠ¡å™¨ç‰ˆæœ¬](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/12.png)\n\n2. ç¼–è¾‘/etc/ppp/optionsæ–‡ä»¶\n\n- PAPï¼šæ˜æ–‡å¯†ç è®¤è¯åè®®ã€‚\n- CHAPï¼šæŒ‘æˆ˜æ¡æ‰‹è®¤è¯åè®®ï¼Œ**ä¸‰æ¬¡æ¡æ‰‹**æœºåˆ¶ï¼Œä½¿ç”¨å“ˆå¸ŒåŠ å¯†ã€‚\n\n```shell\n14+ ms-dns 8.8.8.8\n57  local\n144 #+pap  // å…³é—­pap\n147 -pap\n151 +chap  // å¼€å¯chap\n154 #-chap\n208 proxyarp\n```\n\n3. ç¼–è¾‘ pppoe-server-optionsæ–‡ä»¶\n\nåˆ›å»º/etc/ppp/pppoe-server-optionsæ–‡ä»¶ï¼Œä½¿ç”¨chapéªŒè¯åè®®require-chapï¼Œå¦‚æœä½¿ç”¨papéªŒè¯åè®®åˆ™é…ç½®ä¸º require-papã€‚\n\n```shell\nauth\nrequire-chap\nlcp-echo-interval 60\nlcp-echo-failure 5     \nlogfile /var/log/pppd.log\n```\n\n3. ç¼–è¾‘/etc/ppp/chap-secrets æ–‡ä»¶\n\n```shell\n# Secrets for authentication using CHAP\n# client\tserver\tsecret\t\t\tIP addresses\ntest * test *\n```\n\nç”¨æˆ·åä¸ºtestï¼Œå¯†ç ä¸ºtestï¼ŒæœåŠ¡å™¨åå’ŒIPåœ°å€ä¸ºä»»æ„ã€‚\n\n4.  å¼€å¯IPè½¬å‘åŠŸèƒ½\n\nâ€‹\tç¼–è¾‘/etc/sysctl.confæ–‡ä»¶ï¼š\n\n```shell\n28 net.ipv4.ip_forward=1\n```\n\nâ€‹\tè¿è¡Œ`sudo sysctl -p`ç”Ÿæ•ˆé…ç½®ã€‚\n\n5. å¯åŠ¨PPPoEæœåŠ¡å™¨\n\n```shell\nsudo pppoe-server -I ens37 -L 192.168.10.10 -R 192.168.10.11 -N 20   \nsudo pppoe-server -I ens38 -L 192.168.20.10 -R 192.168.20.11 -N 20   \n```\n\n**æŒ‡ä»¤å«ä¹‰ï¼š**\n\n| pppoe-server | å¯åŠ¨ PPPoE æœåŠ¡å™¨è¿›ç¨‹                        |\n| ------------ | -------------------------------------------- |\n| -I xxx       | ç›‘å¬ç‰©ç†ç½‘å¡xxxï¼Œæ¥å—å®¢æˆ·ç«¯çš„ PPPoE æ‹¨å·è¯·æ±‚ |\n| -L IPåœ°å€    | PPP æœåŠ¡å™¨çš„ IP åœ°å€                         |\n| -R IPåœ°å€    | å®¢æˆ·ç«¯åˆ†é… IP çš„èµ·å§‹åœ°å€                     |\n| -N n         | æœ€å¤šå…è®¸ n ä¸ª PPPoE å®¢æˆ·ç«¯åŒæ—¶è¿æ¥           |\n\n6. æŸ¥çœ‹PPPoEæœåŠ¡å™¨çš„å¯ç”¨æƒ…å†µ\n\n```shell\nps -ef|grep pppoe\n```\n\n![pppoeæœåŠ¡å™¨çš„å¯ç”¨æƒ…å†µ](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/13.png)\n\n- å¦‚æœéœ€è¦å…³é—­PPPoEæœåŠ¡å™¨ï¼ŒæŒ‡ä»¤ä¸ºï¼š\n\n```shell\nsudo killall pppoe-server\n```\n\n- æ¯æ¬¡ç”µè„‘é‡å¯å‡éœ€è¦é‡æ–°è¿è¡ŒPPPoEå¯åŠ¨å‘½ä»¤ï¼Œè®¾ç½®å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ï¼š\n\n  1. åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶ï¼š\n\n     ```shell\n     sudo gedit /etc/systemd/system/pppoe-server.service\n     ```\n\n     ```SHELL\n     [Unit]\n     Description=PPPoE Server Service\n     After=network.target # ç­‰åˆ°ç½‘ç»œå¯åŠ¨åå†å¯åŠ¨\n     \n     [Service]\n     ExecStart=/usr/local/bin/start-pppoe.sh\n     Restart=always\n     RestartSec=5\n     User=root\n     \n     # æ— é™åˆ¶é‡å¯\n     StartLimitIntervalSec=0\n     \n     [Install]\n     WantedBy=multi-user.target\n     ```\n\n     ```shell\n     sudo gedit /usr/local/bin/start-pppoe.sh\n     ```\n\n  2. åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼š\n\n     ```shell\n     sudo gedit /usr/local/bin/start-pppoe.sh\n     ```\n\n     ```shell\n     #!/bin/bash\n     \n     pppoe-server -I ens37 -L 192.168.10.10 -R 192.168.10.11 -N 20\n     pppoe-server -I ens38 -L 192.168.20.10 -R 192.168.20.11 -N 20\n     \n     # ä¿æŒè¿›ç¨‹è¿è¡Œ\n     tail -f /dev/null\n     ```\n\n     èµ‹äºˆæ‰§è¡Œæƒé™ï¼š\n\n     ```shell\n     sudo chmod +x /usr/local/bin/start-pppoe.sh\n     ```\n\n  3. é‡æ–°åŠ è½½é…ç½®ï¼Œé‡å¯æœåŠ¡ï¼š\n\n     ```shell\n     sudo systemctl daemon-reload\n     sudo systemctl reset-failed\n     sudo systemctl enable pppoe-server\n     sudo systemctl start pppoe-server\n     ```\n\n  4. é‡å¯åæ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š\n\n     ```shell\n     ps -ef|grep pppoe\n     sudo systemctl status pppoe-server\n     ```\n\n     ![é‡å¯åçš„æœåŠ¡çŠ¶æ€](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/24.png)\n\n  - æ³¨ï¼šå¦‚æœsystemdæœåŠ¡æ–‡ä»¶ä¸­æ²¡æœ‰æ·»åŠ `StartLimitIntervalSec=0`,è„šæœ¬æ–‡ä»¶ä¸­æ²¡æœ‰`tail -f /dev/null`,åˆ™æœ‰å¯èƒ½æŠ¥é”™ï¼š\n\n    ```shell\n    sudo systemctl status pppoe-server\n    â— pppoe-server.service - PPPoE Server Service\n         Loaded: loaded (/etc/systemd/system/pppoe-server.service; enabled; vendor>\n         Active: failed (Result: start-limit-hit) since Mon 2025-03-10 00:16:20 CS>\n        Process: 2386 ExecStart=/usr/local/bin/start-pppoe.sh (code=exited, status>\n       Main PID: 2386 (code=exited, status=0/SUCCESS)\n    \n    3æœˆ 10 00:16:20 xu-virtual-machine systemd[1]: pppoe-server.service: Scheduled>\n    3æœˆ 10 00:16:20 xu-virtual-machine systemd[1]: Stopped PPPoE Server Service.\n    3æœˆ 10 00:16:20 xu-virtual-machine systemd[1]: pppoe-server.service: Start req>\n    3æœˆ 10 00:16:20 xu-virtual-machine systemd[1]: pppoe-server.service: Failed wi>\n    3æœˆ 10 00:16:20 xu-virtual-machine systemd[1]: Failed to start PPPoE Server Se>\n    ```\n\n    å¤±è´¥çš„åŸå› ï¼š `start-limit-hit`ï¼ŒçŸ­æ—¶é—´å†…è¯¥æœåŠ¡å¤šæ¬¡å¤±è´¥ï¼Œè§¦å‘äº† systemd çš„å¯åŠ¨é™åˆ¶æœºåˆ¶ã€‚åŸè„šæœ¬`start-pppoe.sh` è„šæœ¬æ‰§è¡Œå®Œåç«‹å³é€€å‡ºï¼Œsystemd è¯¯ä»¥ä¸ºå®ƒå´©æºƒå¹¶å°è¯•é‡å¯ï¼Œå¯¼è‡´è§¦å‘ `start-limit-hit`ã€‚\n\n    \n\n#### PPPoEå®¢æˆ·ç«¯\n\nWindowsç«¯æ‹¨å·æ­¥éª¤ï¼š\n\n1. é€‰æ‹©ç½‘ç»œå’ŒInternetè®¾ç½®\n\n![é€‰æ‹©ç½‘ç»œå’ŒInternetè®¾ç½®](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/14.png)\n\n2. é€‰æ‹©æ‹¨å·-è®¾ç½®æ–°è¿æ¥-è¿æ¥åˆ°Internet-ä¸‹ä¸€é¡µ-å®½å¸¦\n\n![æ‹¨å·é€‰æ‹©](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/15.png)\n\n3. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç \n\n   ![ç”¨æˆ·åå’Œå¯†ç ](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/16.png)\n\n4. è¿æ¥æˆåŠŸ\n\n![æ‹¨å·æˆåŠŸ](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/17.png)\n\n#### æµ‹è¯•\n\n å®¢æˆ·ç«¯è¿æ¥æˆåŠŸåï¼Œåœ¨æœåŠ¡å™¨ç«¯è¾“å…¥`ifconfig`ä¼šçœ‹åˆ°PPPæ¥å£ä¿¡æ¯\n\n![PPPæ¥å£](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/18.png)\n\nåœ¨å®¢æˆ·ç«¯è¾“å…¥`ipconfig /all`  ä¼šçœ‹åˆ°PPPæœåŠ¡å™¨åˆ†é…çš„IPåœ°å€\n\n**Client1(192.168.10.20)**\n\n![Client1](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/19.png)\n\n**æµ‹è¯•pingé€šï¼š**\n\n![Client1](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/20.png)\n\n**Client2(192.168.20.20)**\n\n![Client2](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/21.png)\n\næµ‹è¯•pingé€šï¼š\n\n![Client2](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/22.png)\n\n**æŠ“åŒ…åˆ†æ**\n\n**æ³¨æ„**ï¼šæ‰§è¡Œ `sudo wireshark` \n\nFilter é€‰æ‹©pppoe|ppoesã€‚\n\n**PPPoEæŠ¥æ–‡ç±»å‹**\n\n| é˜¶æ®µ                      | ä»¥å¤ªç½‘åè®®å· | æŠ¥æ–‡ç±»å‹                               |\n| ------------------------- | ------------ | -------------------------------------- |\n| **å‘ç°é˜¶æ®µ**ï¼ˆDiscoveryï¼‰ | `0x8863`     | PADI, PADO, PADR, PADS, PADT           |\n| **ä¼šè¯é˜¶æ®µ**ï¼ˆSessionï¼‰   | `0x8864`     | PPP æ•°æ®åŒ…ï¼ˆLCPã€PAP/CHAPã€IP æ•°æ®ç­‰ï¼‰ |\n\n**PPPoEäº¤äº’è¿‡ç¨‹**\n\n![PPPoEäº¤äº’è¿‡ç¨‹](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/32.png)\n\n![æŠ“åŒ…pppoed](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/25.png)\n\n![æŠ“åŒ…pppoes-1](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/26.png)\n\n![æŠ“åŒ…pppoes-2](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/27.png)\n\n**PPPoE å‘ç°é˜¶æ®µ**\n\nPPPoE å‘ç°é˜¶æ®µç”¨äº å»ºç«‹ PPPoE è¿æ¥æœ‰5ç§æŠ¥æ–‡ï¼š\n\n1.  PADIï¼ˆPPPoE Active Discovery Initiationï¼‰\n\n- **å®¢æˆ·ç«¯ â†’ å¹¿æ’­** å‘é€ **PADI**ï¼ˆå‘ç°è¯·æ±‚ï¼‰ã€‚\n- ç”¨äºæŸ¥æ‰¾å¯ç”¨çš„ PPPoE æœåŠ¡å™¨ï¼ˆAC, Access Concentratorï¼‰ã€‚\n- **ç›®æ ‡ MAC åœ°å€ï¼š`FF:FF:FF:FF:FF:FF`**ï¼ˆå¹¿æ’­ï¼‰ã€‚\n- åªæœ‰Service-Nameä¸ºç©ºçš„æœåŠ¡å™¨ä¼šå“åº”ã€‚\n\n![æŠ“åŒ…pppoed-PADI](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/28.png)\n\n2. PADOï¼ˆPPPoE Active Discovery Offerï¼‰\n\n- **æœåŠ¡å™¨ï¼ˆACï¼‰â†’ å®¢æˆ·ç«¯** å›å¤ **PADO**ï¼ˆæä¾›æœåŠ¡ï¼‰ã€‚\n- æœåŠ¡å™¨å“åº”å®¢æˆ·ç«¯ï¼Œè¡¨æ˜è‡ªå·±å¯ç”¨ã€‚\n- åŒ…å« **æœåŠ¡å™¨åç§°** å’Œ **æ”¯æŒçš„æœåŠ¡**ã€‚\n\n![æŠ“åŒ…pppoed-PADO](./images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/29.png)\n\n3. PADRï¼ˆPPPoE Active Discovery Requestï¼‰\n\n- **å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼ˆACï¼‰** å‘é€ **PADR**ï¼ˆè¿æ¥è¯·æ±‚ï¼‰ã€‚\n\n- ç”¨æˆ·ä¸»æœºå¯èƒ½ä¼šæ”¶åˆ°å¤šä¸ª PADOï¼Œä½†ä»…æŸ¥çœ‹å®ƒæ”¶åˆ°çš„ PADO æ•°æ®åŒ…å¹¶é€‰æ‹©ä¸€ä¸ªï¼Œå¹¶è¯·æ±‚å»ºç«‹ä¼šè¯ã€‚\n\n- åŒ…å« **æœåŠ¡å** å’Œ **å”¯ä¸€çš„æ ‡è¯†ç¬¦**ã€‚\n\n  ![æŠ“åŒ…pppoed-PADR](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/30.png)\n\n4. PADSï¼ˆPPPoE Active Discovery Session-confirmationï¼‰\n\n- **æœåŠ¡å™¨ï¼ˆACï¼‰â†’ å®¢æˆ·ç«¯** å‘é€ **PADS**ï¼ˆä¼šè¯ç¡®è®¤ï¼‰ã€‚\n- **åˆ†é…ä¸€ä¸ª PPPoE ä¼šè¯ ID**ï¼Œè¡¨ç¤ºè¿æ¥å·²å»ºç«‹ã€‚\n\n![æŠ“åŒ…pppoed-PADS](/images/æ¥å…¥ç½‘ç»¼åˆè¯¾è®¾/31.png)\n\n5. PADTï¼ˆPPPoE Active Discovery Terminateï¼‰\n\n- å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ å‘é€ **PADT**ï¼ˆç»ˆæ­¢è¿æ¥ï¼‰ã€‚\n- å…³é—­ PPPoE è¿æ¥ã€‚\n\n**PPPoE ä¼šè¯é˜¶æ®µ**\n\nPPPoE å‘ç°é˜¶æ®µå®Œæˆåï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡ **PPPoE ä¼šè¯ ID** è¿›è¡Œé€šä¿¡ã€‚\n æ­¤æ—¶ PPPoE å°è£…æ ‡å‡† PPP æŠ¥æ–‡ï¼ŒåŒ…æ‹¬4ç§æŠ¥æ–‡ï¼š\n\n1. **LCPï¼ˆLink Control Protocolï¼‰**ï¼šé“¾è·¯åå•†ã€‚\n2. **PAP/CHAPï¼ˆPassword Authentication Protocol / Challenge Handshake Authentication Protocolï¼‰**:  ç”¨æˆ·èº«ä»½è®¤è¯ã€‚\n3. **NCPï¼ˆNetwork Control Protocol)** : åˆ†é… IP åœ°å€ã€‚\n4. **IP æ•°æ®æŠ¥æ–‡**: ç½‘ç»œé€šä¿¡æ•°æ®ï¼ˆTCP/IPã€UDPï¼‰ã€‚\n","tags":["ç½‘ç»œ","è¯¾è®¾"]},{"title":"ç½‘ç»œç®—æ³•åŸºç¡€","url":"/2025/02/27/ç½‘ç»œç®—æ³•åŸºç¡€/","content":"\n# ç®—æ³•ä¸åˆ†æ²»\n\nDivide and Conquerï¼ˆDCï¼‰\n\nDivideï¼šå°†æºé—®é¢˜åˆ†è§£ä¸ºè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜ï¼Œ**æ‹†åˆ†é—®é¢˜æ€§è´¨ç›¸åŒ**ï¼Œå°†å­é—®é¢˜çš„è§£ç»„åˆæˆåŸé—®é¢˜çš„è§£ã€‚\n\nConquerï¼šå¦‚æœå­é—®é¢˜ä»ç„¶å›°éš¾ï¼Œå°±ç»§ç»­å¯¹å­é—®é¢˜è¿›è¡Œåˆ†è§£ï¼Œç›´åˆ°å­é—®é¢˜å¯ä»¥è¢«trivialã€‚\n\nRecursionï¼šç”¨é€’å½’çš„æ–¹å¼å®ç°ã€‚\n\n## å½’å¹¶æ’åº\n\né—®é¢˜å®šä¹‰ï¼š\n\n- è¾“å…¥ï¼šnä¸ªæ•°æ„æˆçš„æ•°ç»„;\n\n- è¾“å‡ºï¼šæ’åˆ—è¯¥nä¸ªæ•°çš„æœ‰åºæ•°ç»„ã€‚\n\nMerg Sortï¼š\n\n- åˆ†è§£ï¼šå°†åŸæ•°ç»„ç­‰åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„;\n- æ±‚è§£ï¼šé€’å½’åœ°å¯¹ä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æ’åº;\n- åˆå¹¶ï¼šå°†ä¸¤ä¸ªå·²æ’åºçš„å­æ•°ç»„åˆå¹¶ã€‚\n\n### Merge Step\n\n **CLAIM**ï¼šå¯¹äºn â‰¥ 1çš„æ•°ç»„ï¼ŒMergeSortéœ€è¦çš„è¿è¡Œæ—¶é—´T(n) â‰¤ $ 6n \\log_2 n + 6n $\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/1.PNG \"è¯æ˜\")\n\n### å‡½æ•°å¢é•¿çš„æ¸è¿›ç¬¦å·\n\n**Big O**: å¦‚æœå­˜åœ¨æ­£æ•°cå’ŒNï¼Œå¯¹äºæ‰€æœ‰çš„n>=Nï¼Œæœ‰f(n)<=c*g(n)ï¼Œåˆ™f(n)=O(g(n))ã€‚\n\n**Big Omega**ï¼šå¦‚æœå­˜åœ¨æ­£æ•°cå’ŒNï¼Œå¯¹äºæ‰€æœ‰çš„n>=Nï¼Œæœ‰f(n)>=c*g(n)ï¼Œåˆ™f(n)=Omega(g(n))ã€‚\n\n**Big Theta**ï¼šf(n)=Theta(g(n))ï¼Œå½“ä¸”ä»…å½“f(n)=O(g(n))ä¸”f(n)=Omega(g(n))ã€‚\n\n### åŸºäºæ¯”è¾ƒçš„æ’åº\n\n**CLAIM**ï¼šä»»ä½•åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼ŒRTä¸å¯èƒ½ä½äºO(nlogn)ã€‚\n\nä»»ä½•åŸºäºä¸¤ä¸¤æ¯”è¾ƒçš„æ’åºç®—æ³•éƒ½å¯ä»¥è¡¨è¾¾ä¸ºä¸€æ£µå†³ç­–æ ‘ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ã€‚\n\nå®Œå…¨äºŒå‰æ ‘ï¼šå®Œå…¨äºŒå‰æ ‘ä»æ ¹ç»“ç‚¹åˆ°å€’æ•°ç¬¬äºŒå±‚æ»¡è¶³å®Œç¾äºŒå‰æ ‘ï¼Œæœ€åä¸€å±‚å¯ä»¥ä¸å®Œå…¨å¡«å……ï¼Œå…¶å¶å­ç»“ç‚¹éƒ½é å·¦å¯¹é½ã€‚\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/2.PNG \"å†³ç­–æ ‘çš„æ€§è´¨\")\n\n### ä¸»åŠæ³•ï¼ˆMaster Methodï¼‰\n\n**ä¸»å®šç†**\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/3.PNG \"ä¸»å®šç†çš„å®šä¹‰\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/4.PNG \"ä¸»å®šç†çš„è¯æ˜\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/5.PNG \"å‚æ•°\")\n\n\n\n# å›¾ç®€ä»‹\n\n## æ ‘\n\n**æ ‘**ï¼šä¸åŒ…å«ä»»ä½•åœˆçš„è¿é€šå›¾ã€‚\n\n**ç”Ÿæˆæ ‘(Spanning Tree)**ï¼šå¦‚æœå›¾Gçš„ä¸€ä¸ªå­å›¾åŒ…å«äº†Gçš„å…¨éƒ¨é¡¶ç‚¹ï¼Œä¸”ä¸ºæ ‘ï¼Œåˆ™ç§°ä¹‹ä¸ºGçš„ç”Ÿæˆæ ‘ã€‚\n\n\n\n## å›¾æœç´¢\n\n### å¾ªç¯ä¸å˜å¼\n\n- æ¦‚å¿µï¼šæ¯æ¬¡å¾ªç¯å¼€å§‹æ—¶éƒ½è¦ä¿æŒçš„æ€§è´¨ / çŠ¶æ€ã€‚\n- **INVARIANT**ï¼šå·²æ¢ç´¢é›†åˆå’Œæœªæ¢ç´¢é›†åˆåº”è¯¥å¤„äºæ­£ç¡®çš„çŠ¶æ€ã€‚è¾¹ç•Œç‚¹é›†åˆåº”å‡†å¤‡å¥½äº†ã€‚\n  - å¾ªç¯å¼€å§‹æ—¶ï¼Œä»è¾¹ç•Œç‚¹é›†åˆä¸­é€‰æ‹©ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œæ¢ç´¢ã€‚\n  - å¾ªç¯ç»“æŸå‰ï¼Œå°†æ–°æ‰©å±•çš„è¾¹ç•Œç‚¹çº³å…¥é›†åˆã€‚\n- ç»´æŠ¤è¾¹ç•Œç‚¹é›†åˆï¼š\n  - **BFSï¼šé˜Ÿåˆ—(FIFO)**\n  - **DFSï¼šå †æ ˆ(LIFO)**\n\n### BFS\n\nBFSçš„ä¼ªä»£ç ï¼š\n\n    BFS(Graph, start):\n    B.EnQueue(s)\n    WHILE B is not empty:\n        d=B.DeQueue();\n        æ ‡è®°dä¸ºâ€œå·²æ¢ç´¢â€\n        FOR each neighbor t of d:\n            IF t is not in visited:\n                B.EnQueue(t)\n            ENDIF\n        ENDFOR\n    ENDWHILE\n\n**èšåˆåˆ†æå¤æ‚åº¦**ï¼šO(n+m)\n\n### DFS\n\nDFSçš„ä¼ªä»£ç ï¼š\n\n```\nDFS(Graph, start):\nB.Push(s)\nWHILE B is not empty:\nâ€ƒd = B.Pop()\nâ€ƒæ ‡è®° d ä¸ºâ€œå·²æ¢ç´¢â€\nâ€ƒFOR each neighbor t of d:\nâ€ƒâ€ƒIF t is not in visited:\nâ€ƒâ€ƒâ€ƒB.Push(t)\nâ€ƒâ€ƒENDIF\nâ€ƒENDFOR\nENDWHILE\n```\n\n**èšåˆåˆ†æå¤æ‚åº¦**ï¼šO(n+m)\n\n\n\n## å›¾çš„è¿é€šæ€§\n\n### <u>æ— å‘å›¾</u>çš„è¿é€šåˆ†é‡\n\nä¸‹è¿°ç­‰ä»·å…³ç³»çš„ç­‰ä»·ç±»ï¼šå½“ä¸”ä»…å½“å›¾ä¸­å…·æœ‰u-vè·¯å¾„æ—¶ï¼Œç§°u~vã€‚\n\n#### BFSæ±‚æ— å‘è¿é€šåˆ†é‡\n\nBFSæ±‚æ— å‘è¿é€šåˆ†é‡çš„ä¼ªä»£ç ï¼š\n\n```\nLoop-BFS(G):\nFOR i=1 to n\n\tIF t is not in visited:\n\t\tBFS(G,i);\nENDFOR\n```\n\n**èšåˆåˆ†æå¤æ‚åº¦**ï¼šO(n+m)\n\n\n\n### <u>æœ‰å‘å›¾</u>çš„å¼ºè¿é€šåˆ†é‡ï¼ˆStrongly Connected Component,SCCï¼‰\n\nä¸‹è¿°ç­‰ä»·å…³ç³»çš„ç­‰ä»·ç±»ï¼šå½“ä¸”ä»…å½“æœ‰å‘å›¾Gä¸­å…·æœ‰u -> vè·¯å¾„ä¸”å…·æœ‰v -> uè·¯å¾„æ—¶ï¼Œç§°ç§°u~vã€‚\n\n#### TWO-PASSç®—æ³•(Kosarajuç®—æ³•)\n\n1. æ„å»ºé€†å›¾ã€‚\n2. **åœ¨é€†å›¾ä¸­è¿›è¡Œ Loop-DFS**ï¼Œè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„**å®Œæˆæ—¶é—´** f(v)ã€‚\n3. **åœ¨åŸå›¾ä¸­è¿è¡Œ Loop-DFS**ï¼ŒæŒ‰ç…§é€†å›¾ DFS å®Œæˆçš„èŠ‚ç‚¹é¡ºåºè¿›è¡Œï¼Œç¡®å®šæ¯ä¸ªèŠ‚ç‚¹çš„ Leaderã€‚\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/6.PNG \"Kosarajuç®—æ³•-1\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/7.PNG \"Kosarajuç®—æ³•-2\")\n\n**èšåˆåˆ†æå¤æ‚åº¦**ï¼šO(n+m)\n\n#### **å…³é”®å¼•ç†**\n\nKey Lemmaï¼šè€ƒè™‘æœ‰å‘å›¾Gä¸­çš„ä¸¤ä¸ªä¸´æ¥SCCï¼Œf(v)è¡¨ç¤ºé¡¶ç‚¹våœ¨åå‘å›¾G'ä¸­Loop-DFSçš„å®Œæˆæ—¶é—´ï¼Œåˆ™æœ‰ï¼š\n$$\n\\max_{v \\in C_1} f(v) < \\max_{v \\in C_2} f(v)\n$$\næ¨è®ºï¼šæœ€å¤§çš„få€¼å¿…ç„¶åœ¨â€sinkâ€œSCCä¸­ã€‚\n\n\n\n# è´ªå¿ƒMST\n\n## è´ªå¿ƒvsåˆ†æ²»\n\n- **å†³ç­–è¿‡ç¨‹**ï¼š\n  - **åˆ†æ²»**ï¼šæ¯ä¸ªå­é—®é¢˜çš„è§£éƒ½ä¼šè€ƒè™‘æ•´ä¸ªå­é—®é¢˜çš„æƒ…å†µï¼Œé€æ­¥æ‹†è§£ï¼Œæœ€ç»ˆåˆå¹¶ã€‚\n  - **è´ªå¿ƒ**ï¼šæ¯ä¸€æ­¥å†³ç­–åªå…³æ³¨å½“å‰çš„å±€éƒ¨æœ€ä¼˜è§£ï¼Œä¸å›å¤´ã€‚\n- **å…¨å±€ä¸å±€éƒ¨**ï¼š\n  - **åˆ†æ²»**ï¼šæ¯ä¸ªå­é—®é¢˜çš„è§£å¯èƒ½æ¶‰åŠæ•´ä¸ªé—®é¢˜çš„å…¨å±€ç»“æ„ã€‚\n  - **è´ªå¿ƒ**ï¼šæ¯ä¸€æ­¥åªè€ƒè™‘å±€éƒ¨æœ€ä¼˜è§£ï¼ŒæœŸæœ›é€šè¿‡å±€éƒ¨æœ€ä¼˜è§£å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚\n- **è§£å†³é—®é¢˜çš„æ–¹å¼**ï¼š\n  - **åˆ†æ²»**ï¼šé€’å½’åœ°åˆ†è§£é—®é¢˜ï¼Œç›´åˆ°å­é—®é¢˜è¶³å¤Ÿç®€å•ç›´æ¥æ±‚è§£ã€‚\n  - **è´ªå¿ƒ**ï¼šé€šè¿‡é€æ­¥é€‰æ‹©å½“å‰æœ€ä¼˜çš„è§£æ¥æ„å»ºæœ€ç»ˆè§£ã€‚\n- **æ˜¯å¦éœ€è¦å›æº¯**ï¼š\n  - **åˆ†æ²»**ï¼šé€šå¸¸ä¼šå›æº¯å¹¶åˆå¹¶ç»“æœã€‚\n  - **è´ªå¿ƒ**ï¼šä¸ä¼šå›æº¯ï¼Œä¸€æ—¦åšå‡ºé€‰æ‹©å°±ä¸å†ä¿®æ”¹ã€‚\n\n## MSTï¼ˆå‰æï¼šæ— å‘å›¾ï¼‰\n\n**å®šä¹‰**ï¼šæœ€å°æƒé‡ç”Ÿæˆæ ‘Tã€‚\n\n- å¿…é¡»æ˜¯æ— å‘å›¾;\n- ç”Ÿæˆæ ‘çš„æƒé‡å®šä¹‰ä¸ºæ ‘ä¸Šè¾¹æƒé‡ä¹‹å’Œ;\n- ç”Ÿæˆæ ‘å®šä¹‰ä¸ºEçš„å­é›†ï¼š\n  1. å¿…é¡»è¦†ç›–V;\n  2. æ— ç¯;\n  3. è¿é€šã€‚\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/8.PNG \"MST\")\n\n### å‰²\n\nå‰²çš„æ¦‚å¿µï¼šå›¾G(Vï¼ŒE)çš„ä¸€ä¸ªå‰²(Cut)æ˜¯Vçš„ä¸€ä¸ªåˆ’åˆ†ï¼Œè¯¥åˆ’åˆ†å°†é›†åˆVåˆ†ä¸ºä¸¤ä¸ªéç©ºçš„é›†åˆã€‚\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/9.PNG \"å‰²\")\n\n- nä¸ªé¡¶ç‚¹çš„å›¾æœ€å¤šæœ‰ $ 2^n-2 $ ä¸ªä¸åŒçš„å‰²ã€‚\n\n**Empty-Cutå¼•ç†**ï¼šå›¾Gä¸è¿é€šï¼Œå½“ä¸”ä»…å½“Cut(Aï¼ŒB)æ²¡æœ‰å‰²è¾¹ã€‚\n\n**Double-Crossing Lemma**ï¼šå¦‚æœæŸä¸ªåœˆCâŠ†Eä¸­æœ‰è¾¹è·¨è¶Šäº†Cut(Aï¼ŒB)ï¼Œåˆ™Cä¸­**è‡³å°‘è¿˜æœ‰ä¸€æ¡è¾¹**è·¨è¶ŠCut(Aï¼ŒB)ã€‚\n\n**Lonely-Cut Corollary**ï¼šå¦‚æœè¾¹eæ˜¯è·¨è¶Šäº†Cut(Aï¼ŒB)çš„å”¯ä¸€ä¸€æ¡è¾¹ï¼Œåˆ™eä¸å¯èƒ½åœ¨**ä»»ä¸€**åœˆä¸­ã€‚\n\n**The Cut Property**ï¼šè€ƒè™‘å›¾Gä¸­çš„ä¸€æ¡è¾¹eï¼Œå¦‚æœå­˜åœ¨Cut(Aï¼ŒB)ï¼Œä½¿å¾—eæ˜¯æ‰€æœ‰è·¨è¶Šè¯¥å‰²çš„æ‰€æœ‰è¾¹ä¸­æƒæœ€å°è€…ï¼Œåˆ™eä¸€å®šåœ¨Gçš„MSTä¸­ã€‚\n\nå‰²çš„è¯æ˜ï¼š\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/10.PNG \"å‰²çš„è¯æ˜-1\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/11.PNG \"å‰²çš„è¯æ˜-2\")\n\n\n\n### å †ï¼ˆHeapï¼‰\n\nä¸€ä¸ªå®¹å™¨ï¼Œå…¶ä¸­å…ƒç´ å…·æœ‰keyã€‚\n\nå¸¸è§„æ“ä½œåŠå¯¹åº”çš„RTï¼š\n\n- Heapifyï¼šå»ºå † O(n)\n- Insertï¼šåŠ å…¥ä¸€ä¸ªæ–°çš„å¯¹è±¡ O(logn)\n- Extract-Minï¼šä»å †ä¸­å–å‡ºå…·æœ‰æœ€å°keyçš„å…ƒç´  O(logn)\n- Deleteï¼šåˆ é™¤æŒ‡å®šå…ƒç´  O(logn)\n\n#### **Heap Property**\n\n- å †æ˜¯ä¸€é¢—æœ‰æ ¹ï¼ŒäºŒå‰ï¼Œå°½å¯èƒ½å®Œå…¨çš„æ ‘ã€‚\n- ä»»ä½•èŠ‚ç‚¹çš„keyéƒ½ä¸å¤§äºå…¶æ‰€æœ‰å­ä»£çš„keyã€‚ â€”â€”> **æ ¹å…ƒç´ å…·æœ‰æœ€å°key**\n\n#### **ç”¨æ•°ç»„å®ç°å †**\n\n- Parent (i) = i / 2  ï¼ˆä¸‹æ ‡iä¸ºå¥‡æ•°æ—¶å‘ä¸‹å–æ•´ï¼‰\n- LeftC (i) = 2i\n- RightC (i) = 2i + 1\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/12.PNG \"å †çš„æ“ä½œ-1\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/13.PNG \"å †çš„æ“ä½œ-2\")\n\n\n\n### **Primeç®—æ³•**\n\nåŸºæœ¬æ€æƒ³ï¼š\n\n- ä»ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼ˆä»»æ„é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼‰ï¼Œå°†å®ƒåŠ å…¥ç”Ÿæˆæ ‘ã€‚\n- æ‰¾åˆ°å½“å‰ç”Ÿæˆæ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ï¼Œé€‰æ‹©æƒé‡æœ€å°çš„è¾¹ã€‚\n- å°†ä¸è¯¥è¾¹ç›¸è¿çš„èŠ‚ç‚¹åŠ å…¥ç”Ÿæˆæ ‘ï¼Œæ›´æ–°æœ€å°è¾¹çš„æƒé‡ï¼Œé‡å¤é€‰æ‹©æœ€å°è¾¹çš„è¿‡ç¨‹ã€‚\n- ç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«åŠ å…¥åˆ°ç”Ÿæˆæ ‘ä¸­ã€‚\n\nPimçš„ä¼ªä»£ç ï¼š\n\n```\nPrim(Graph, start):\n    åˆå§‹åŒ–æœ€å°ç”Ÿæˆæ ‘çš„è¾¹é›†åˆ MST = {}\n    åˆå§‹åŒ–ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ— Qï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹åŠå…¶æœ€å°è¾¹çš„æƒé‡\n    å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ v âˆˆ Graph:\n        è®¾ç½® v çš„æœ€å°æƒé‡ä¸ºæ— ç©·å¤§ï¼ˆâˆï¼‰\n    è®¾ç½® start èŠ‚ç‚¹çš„æœ€å°æƒé‡ä¸º 0ï¼Œå¹¶å°†å…¶åŠ å…¥ Q\n\n    WHILE Q is not empty:\n        é€‰æ‹© Q ä¸­æœ€å°çš„æƒé‡çš„èŠ‚ç‚¹ u\n        æ ‡è®° u ä¸ºâ€œå·²åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘â€\n\n        å¯¹äº u çš„æ¯ä¸ªé‚»å±… v:\n            IF v is not in MST AND weight(u, v) < v çš„å½“å‰æƒé‡:\n                æ›´æ–° v çš„æœ€å°æƒé‡ä¸º weight(u, v)\n                å°† v æ›´æ–°åˆ° Q ä¸­ï¼Œä»¥åæ˜ å…¶æ–°çš„æœ€å°æƒé‡\n\n        ENDFOR\n    ENDWHILE\n```\n\nPrimç®—æ³•çš„è¯æ˜ï¼š\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/14.PNG \"Primçš„è¯æ˜-1\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/15.PNG \"Primçš„è¯æ˜-2\")\n\nç”¨å †å®ç°Primï¼š\n\n    Prim(Graph, start):\n        åˆå§‹åŒ–æœ€å°ç”Ÿæˆæ ‘ MST = {}\n        åˆå§‹åŒ–æœ€å°å † MinHeap\n        åˆå§‹åŒ–ä¸€ä¸ªé›†åˆ Visitedï¼Œç”¨äºè®°å½•å·²åŠ å…¥ MST çš„èŠ‚ç‚¹\n        å°† (0, start) æ’å…¥ MinHeap  // (è¾¹çš„æƒé‡, èŠ‚ç‚¹)\n        åˆå§‹åŒ– total_weight = 0  // è®°å½•æœ€å°ç”Ÿæˆæ ‘çš„æ€»æƒé‡\t\n    \tWHILE MinHeap is not empty:\n        \t(weight, node) = MinHeap.Pop()  // å–å‡ºå½“å‰æƒé‡æœ€å°çš„è¾¹\n       \t IF node å·²åœ¨ Visited:\n        \t    CONTINUE  // å¦‚æœè¯¥èŠ‚ç‚¹å·²ç»åœ¨ MST ä¸­ï¼Œè·³è¿‡\n    \n      \t  æ ‡è®° node ä¸ºå·²è®¿é—®\n      \t  total_weight += weight  // ç´¯åŠ æƒé‡\n      \t  MST.Add(node)\n    \n    \t    FOR each (neighbor, edge_weight) in Graph[node]:  // éå†é‚»å±…\n         \t   IF neighbor ä¸åœ¨ Visited:\n           \t     MinHeap.Push((edge_weight, neighbor))  // åªåŠ å…¥æœªè®¿é—®çš„èŠ‚ç‚¹\n    \n    \tRETURN MST, total_weight\n\n**å¤æ‚åº¦åˆ†æ**ï¼š\n\n- næ¬¡Extract-Minï¼šO(nlogn)\n- mæ¬¡Deleteå’Œmæ¬¡Insertï¼šO(mlogn)\n\næ€»RT = O(nlogn)+O(mlogn) = **O(mlogn)**\n\n\n\n## Kruskalç®—æ³•\n\nåŸºæœ¬æ€æƒ³ï¼š\n\n- æŒ‰æƒé‡å‡åºå¯¹è¾¹æ’åºã€‚\n- æŒ‰åºé€æ¡æ£€æŸ¥è¾¹ã€‚\n- åªè¦ä¸æˆç¯ï¼Œå°±å°†è¾¹åŠ å…¥Tã€‚\n\nKruskalçš„ä¼ªä»£ç ï¼š\n\n    Kruskal(Graph):\n        åˆå§‹åŒ–æœ€å°ç”Ÿæˆæ ‘ MST = {}\n        åˆå§‹åŒ–å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰æ¥ç®¡ç†è¿é€šæ€§\n        æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§æ’åº Graph çš„æ‰€æœ‰è¾¹ EdgeList\n    \tFOR (u, v, weight) in EdgeList:  // éå†æ’åºåçš„è¾¹\n       \t IF u å’Œ v ä¸åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ (Find(u) â‰  Find(v)):\n        \t    MST.Add((u, v, weight))  // åŠ å…¥æœ€å°ç”Ÿæˆæ ‘\n      \t      Union(u, v)  // åˆå¹¶è¿é€šåˆ†é‡\n      \t  IF MST çš„è¾¹æ•° == V - 1:\n         \t   BREAK  // æœ€å°ç”Ÿæˆæ ‘æ„å»ºå®Œæˆ\n    \tRETURN MST\n\nKruskalç®—æ³•çš„è¯æ˜ï¼š\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/16.PNG \"Kruskalçš„è¯æ˜-1\")\n\n![å›¾ç‰‡](/images/ç½‘ç»œç®—æ³•åŸºç¡€/17.PNG \"Kruskalçš„è¯æ˜-2\")\n\n#### UNION-FINDç®—æ³•\n\nUnion-Findï¼ˆå¹¶æŸ¥é›†ï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äº**å¤„ç†åŠ¨æ€è¿é€šæ€§é—®é¢˜**ã€‚å®ƒæ”¯æŒä¸¤ç§æ ¸å¿ƒæ“ä½œï¼š\n\n1. **Find(x)**ï¼šæŸ¥æ‰¾å…ƒç´  `x` æ‰€å±çš„é›†åˆï¼ˆè¿”å›å®ƒçš„ä»£è¡¨å…ƒç´ ï¼‰ã€‚\n2. **Union(x, y)**ï¼šåˆå¹¶ `x` å’Œ `y` æ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆã€‚\n\næ ¸å¿ƒæ€æƒ³ï¼š\n\n- **æ¯ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘è¡¨ç¤º**ï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹ä½œä¸ºè¯¥é›†åˆçš„**ä»£è¡¨å…ƒ**ï¼ˆä»£è¡¨å…ƒç´ ï¼‰ã€‚\n- **Find(x)** æ“ä½œç”¨äºæŸ¥æ‰¾ `x` æ‰€åœ¨é›†åˆçš„ä»£è¡¨å…ƒï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ã€‚\n- **Union(x, y)** æ“ä½œç”¨äºåˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œ**å°†å…¶ä¸­ä¸€ä¸ªé›†åˆçš„æ ¹èŠ‚ç‚¹æŒ‡å‘å¦ä¸€ä¸ªé›†åˆçš„æ ¹**ã€‚\n\n\n\n# Dijkstraç®—æ³•\n\nDijkstraçš„å‰æï¼š**æ— è´Ÿæƒå›¾ï¼ˆæºç‚¹åˆ°ç¬¬ä¸€å±‚ç‚¹çš„æƒé‡å¯ä¸ºè´Ÿå€¼ï¼‰ï¼Œé¿å…è´Ÿåœˆã€‚**\n\nDijkstraçš„åŸºæœ¬æ€è·¯ï¼š\n\n1. åˆå§‹åŒ–ï¼š\n\n- è®¾ `dist[s] = 0`ï¼ˆèµ·ç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º 0ï¼‰ï¼Œå…¶ä»–æ‰€æœ‰ç‚¹ `dist[v] = âˆ`ï¼ˆèµ·å§‹æ—¶è®¤ä¸ºæœªçŸ¥ï¼‰ã€‚\n- ç”¨ä¸€ä¸ª**ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰**ç»´æŠ¤å½“å‰å·²å‘ç°çš„æœ€çŸ­è·ç¦»ç‚¹ã€‚\n\n2. è´ªå¿ƒæ‰©å±•ï¼š\n\n- æ¯æ¬¡ä»**æœªè®¿é—®çš„èŠ‚ç‚¹ä¸­é€‰å–å½“å‰ `dist[v]` æœ€å°çš„ç‚¹ `u`**ã€‚\n- éå† uçš„æ‰€æœ‰é‚»å±… vï¼Œå°è¯•æ¾å¼›ï¼š\n  - **å¦‚æœ `dist[u] + w(u, v) < dist[v]`ï¼Œæ›´æ–° `dist[v]`**ï¼Œå¹¶å°† `v` åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—ã€‚\n\n3. ç»ˆæ­¢ï¼šæ‰€æœ‰èŠ‚ç‚¹å‡å·²è®¿é—®ï¼Œæˆ–ä¼˜å…ˆé˜Ÿåˆ—ä¸ºç©ºï¼ˆæ‰€æœ‰å¯è¾¾ç‚¹å·²ç¡®å®šæœ€çŸ­è·¯å¾„ï¼‰ã€‚\n\n\n\nDijkstraçš„ä¼ªä»£ç ï¼š\n\n```\nDijkstra(Graph, start):\n    åˆå§‹åŒ– dist[]ï¼Œæ‰€æœ‰ç‚¹è®¾ä¸º âˆï¼Œdist[start] = 0\n    åˆå§‹åŒ–ä¼˜å…ˆé˜Ÿåˆ— PQï¼Œæ’å…¥ (0, start)  // (å½“å‰æœ€çŸ­è·ç¦», é¡¶ç‚¹)\n    åˆå§‹åŒ– visited[] è®°å½•å·²ç¡®å®šæœ€çŸ­è·¯å¾„çš„ç‚¹\n\n    WHILE PQ ä¸ä¸ºç©º:\n        (d, u) = PQ.Pop()  // å–å‡ºå½“å‰æœ€çŸ­è·ç¦»çš„ç‚¹\n        IF u å·²è®¿é—®:\n            CONTINUE\n        æ ‡è®° u ä¸ºå·²è®¿é—®\n\n        FOR each é‚»å±… (v, weight) of u:\n            IF dist[u] + weight < dist[v]:  // è¿›è¡Œæ¾å¼›æ“ä½œ\n                dist[v] = dist[u] + weight\n                PQ.Push((dist[v], v))  // å°† v åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—\n    \n    RETURN dist[]\n```\n\n## å¾ªç¯æ¡¶\n\n**æ¡¶ï¼ˆBucketï¼‰** æ˜¯ä¸€ç§æ•°æ®å­˜å‚¨å’Œåˆ†ç±»çš„æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®æŸç§è§„åˆ™ï¼ˆå¦‚å“ˆå¸Œå€¼ã€æ—¶é—´ã€èŒƒå›´ç­‰ï¼‰**å°†æ•°æ®æ˜ å°„åˆ°ä¸åŒçš„æ¡¶ä¸­**ï¼Œä»¥åŠ å¿«æŸ¥è¯¢ã€å­˜å‚¨æˆ–è®¡ç®—çš„æ•ˆç‡ã€‚\n\nå¾ªç¯æ¡¶å°†æ•°æ®æŒ‰ç…§ä¸€å®šè§„åˆ™åˆ†é…åˆ°æœ‰é™ä¸ªæ¡¶ï¼ˆBucketï¼‰ä¸­ï¼Œå¹¶å¾ªç¯ä½¿ç”¨è¿™äº›æ¡¶ã€‚\n\n### å¾ªç¯æ¡¶çš„æ ¸å¿ƒç‰¹ç‚¹\n\n1. å›ºå®šæ•°é‡çš„æ¡¶ï¼ˆN ä¸ªï¼‰ï¼š\n   - è®¾å®š `N` ä¸ªæ¡¶ï¼Œç¼–å·ä» `0` åˆ° `N-1`ï¼Œå®ƒä»¬æŒ‰ç…§é¡ºåº**æ’åˆ—æˆä¸€ä¸ªå¾ªç¯ç»“æ„**ã€‚\n   - è®¿é—®æ—¶**åŸºäºå–æ¨¡ï¼ˆmoduloï¼‰è¿ç®—**ï¼Œä¿è¯è®¿é—®æ°¸è¿œè½åœ¨ `0 ~ N-1` ä¹‹é—´ã€‚\n2. å¾ªç¯è®¿é—®ï¼ˆModulo å–æ¨¡ï¼‰ï¼š\n   - è®¡ç®—ç´¢å¼• `index = (å½“å‰æ—¶é—´ t) % N`ï¼Œä»è€Œä½¿å¾—æ—¶é—´åˆ°äº† `N` ä¹‹åä¼šå›åˆ° `0`ï¼Œå½¢æˆå¾ªç¯ç®¡ç†ã€‚\n\n### ç”¨å¾ªç¯æ¡¶å®ç°Dijkstraç®—æ³•ï¼š\n\n**CLAIM**ï¼šDijkstraç®—æ³•ä¸­æœ€å¤šåªéœ€è¦C+1ä¸ªæ¡¶ã€‚\n\n- æ°¸ä¹…æ ‡è®°çš„é¡¶ç‚¹å’Œéè¾¹ç•Œé¡¶ç‚¹ä¸åœ¨æ¡¶ä¸­ã€‚\n- è¾¹ç•Œç‚¹çš„è·ç¦»æ ‡è®°ä¸ä¼šè¶…è¿‡A[i]+Cï¼ˆiä¸ºå½“å‰æ ‡è®°ç‚¹ï¼‰\n- é¡¶ç‚¹xçš„æ¡¶çš„ç¼–å·ï¼šA[x]mod(C+1)\n\n```\nDijkstra_CircularBucket(Graph, start):\n    åˆå§‹åŒ– dist[]ï¼Œæ‰€æœ‰ç‚¹è®¾ä¸º âˆï¼Œdist[start] = 0\n    åˆå§‹åŒ–æ¡¶ Bucket[]ï¼Œæ¡¶çš„æ•°é‡ä¸º C+1ï¼Œå­˜å‚¨æ¯ä¸ªè·ç¦»åŒºé—´çš„èŠ‚ç‚¹\n    åˆå§‹åŒ– visited[]ï¼Œè®°å½•é¡¶ç‚¹æ˜¯å¦å·²è¢«æ°¸ä¹…æ ‡è®°\n    \n    å°†èµ·ç‚¹ start æ”¾å…¥ Bucket[0] ä¸­ï¼ˆdist[start] = 0ï¼‰\n    \n    WHILE æœ‰èŠ‚ç‚¹æœªè¢«æ°¸ä¹…æ ‡è®°:\n        ä»æ¡¶ä¸­æ‰¾å‡ºå…·æœ‰æœ€å°è·ç¦»çš„éæ°¸ä¹…æ ‡è®°çš„è¾¹ç•Œç‚¹ u\n        æ ‡è®° u ä¸ºæ°¸ä¹…æ ‡è®°ï¼Œå¹¶ä»æ¡¶ä¸­ç§»é™¤ u\n        \n        FOR æ¯ä¸ªé‚»å±… v of u:\n            IF v æ²¡æœ‰è¢«æ°¸ä¹…æ ‡è®°:\n                IF dist[u] + w(u, v) < dist[v]:\n                    dist[v] = dist[u] + w(u, v)  // æ¾å¼›æ“ä½œ\n                    å°† v æ”¾å…¥ Bucket[dist[v] mod (C + 1)] ä¸­  // æ ¹æ® dist[v] æ”¾å…¥æ¡¶\n                    æ›´æ–° v çš„è·ç¦»æ ‡è®°\n\n    RETURN dist[]\n```\n\n**å¤æ‚åº¦åˆ†æ**ï¼šO(m+nC)\n\n\n\n## Dijsktraç®—æ³•æ‰©å±•\n\n### å•æºå•å®¿æœ€çŸ­è·¯é—®é¢˜\n\né—®é¢˜æè¿°ï¼šç»™å®šå›¾Gï¼Œç»™å®šé¡¶ç‚¹så’Œdï¼Œæ±‚ä»såˆ°dçš„æœ€å°æƒé‡è·¯å¾„ã€‚\n\nè§£å†³æ–¹å¼ï¼šå¢åŠ ä¸€ä¸ªåˆ¤æ–­åˆ†æ”¯ï¼Œdè¢«æ°¸ä¹…æ ‡è®°æ—¶ç»ˆæ­¢å¾ªç¯ã€‚\n\n\n\n1111111111111111\n","tags":["å›¾","ç®—æ³•"]},{"title":"about","url":"/about/index.html","content":"\n\n\n![](/images/é¡µé¢/1.jpg)\n\n# ä¸ªäººä»‹ç»\n\næ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ã€‚\n\nè¿™é‡Œæ˜¯æåŒä»ªï¼ŒINTJ-A / ä¸€åRCer ã€‚\nå¶å°”è®°å½•ä¸€äº›å¥‡æ€ªçš„æƒ³æ³•ï¼Œå¶å°”åˆ†äº«ä¸€äº›æŠ˜è…¾çš„è¿‡ç¨‹ï¼Œå¶å°”å†™ä¸€äº›å¤§å­¦ç”Ÿæ´»æŒ‡å—ï¼Œå¯èƒ½æœ‰è¶£ï¼Œä¹Ÿå¯èƒ½åªæ˜¯ç¢ç¢å¿µã€‚ğŸ’¬\n\nå¸Œæœ›ä½ èƒ½åœ¨è¿™æ‰¾åˆ°ä¸€ç‚¹ç‚¹çµæ„Ÿï¼Œéšæ—¶äº¤æµï¼Œæ¬¢è¿å¸¸æ¥ã€‚ ğŸŒ¿\n\n\n\n# æŠ€æœ¯æ ˆ\n\n- Linux\n- æ·±åº¦ç›¸æœº\n- 2D/3Dé›·è¾¾\n- æœºå™¨äººè§†è§‰\n- C / C++\n- Python\n- Pytorch\n\n\n\n# è”ç³»æ–¹å¼\n\n- é‚®ç®±ï¼š1365895688@qq.com\n- Githubï¼šhttps://github.com/Li-shuangyi\n\n"},{"url":"/tags/index.html","content":"---\ntitle:tags\nlayout:tags\n---\n"},{"url":"/categories/index.html","content":"---\ntitle:categories\nlayout:categories\n---\n"}]